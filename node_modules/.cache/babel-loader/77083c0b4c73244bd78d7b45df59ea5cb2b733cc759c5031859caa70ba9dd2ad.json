{"ast":null,"code":"\"use client\";\n\nimport classNames from 'classnames';\nimport * as React from 'react';\nfunction UnitNumber(_ref) {\n  let {\n    prefixCls,\n    value,\n    current,\n    offset = 0\n  } = _ref;\n  let style;\n  if (offset) {\n    style = {\n      position: 'absolute',\n      top: \"\".concat(offset, \"00%\"),\n      left: 0\n    };\n  }\n  return /*#__PURE__*/React.createElement(\"span\", {\n    style: style,\n    className: classNames(\"\".concat(prefixCls, \"-only-unit\"), {\n      current\n    })\n  }, value);\n}\nfunction getOffset(start, end, unit) {\n  let index = start;\n  let offset = 0;\n  while ((index + 10) % 10 !== end) {\n    index += unit;\n    offset += unit;\n  }\n  return offset;\n}\nexport default function SingleNumber(props) {\n  const {\n    prefixCls,\n    count: originCount,\n    value: originValue\n  } = props;\n  const value = Number(originValue);\n  const count = Math.abs(originCount);\n  const [prevValue, setPrevValue] = React.useState(value);\n  const [prevCount, setPrevCount] = React.useState(count);\n  // ============================= Events =============================\n  const onTransitionEnd = () => {\n    setPrevValue(value);\n    setPrevCount(count);\n  };\n  // Fallback if transition events are not supported\n  React.useEffect(() => {\n    const timeout = setTimeout(() => {\n      onTransitionEnd();\n    }, 1000);\n    return () => {\n      clearTimeout(timeout);\n    };\n  }, [value]);\n  // ============================= Render =============================\n  // Render unit list\n  let unitNodes;\n  let offsetStyle;\n  if (prevValue === value || Number.isNaN(value) || Number.isNaN(prevValue)) {\n    // Nothing to change\n    unitNodes = [/*#__PURE__*/React.createElement(UnitNumber, Object.assign({}, props, {\n      key: value,\n      current: true\n    }))];\n    offsetStyle = {\n      transition: 'none'\n    };\n  } else {\n    unitNodes = [];\n    // Fill basic number units\n    const end = value + 10;\n    const unitNumberList = [];\n    for (let index = value; index <= end; index += 1) {\n      unitNumberList.push(index);\n    }\n    // Fill with number unit nodes\n    const prevIndex = unitNumberList.findIndex(n => n % 10 === prevValue);\n    unitNodes = unitNumberList.map((n, index) => {\n      const singleUnit = n % 10;\n      return /*#__PURE__*/React.createElement(UnitNumber, Object.assign({}, props, {\n        key: n,\n        value: singleUnit,\n        offset: index - prevIndex,\n        current: index === prevIndex\n      }));\n    });\n    // Calculate container offset value\n    const unit = prevCount < count ? 1 : -1;\n    offsetStyle = {\n      transform: \"translateY(\".concat(-getOffset(prevValue, value, unit), \"00%)\")\n    };\n  }\n  return /*#__PURE__*/React.createElement(\"span\", {\n    className: \"\".concat(prefixCls, \"-only\"),\n    style: offsetStyle,\n    onTransitionEnd: onTransitionEnd\n  }, unitNodes);\n}","map":{"version":3,"names":["classNames","React","UnitNumber","_ref","prefixCls","value","current","offset","style","position","top","concat","left","createElement","className","getOffset","start","end","unit","index","SingleNumber","props","count","originCount","originValue","Number","Math","abs","prevValue","setPrevValue","useState","prevCount","setPrevCount","onTransitionEnd","useEffect","timeout","setTimeout","clearTimeout","unitNodes","offsetStyle","isNaN","Object","assign","key","transition","unitNumberList","push","prevIndex","findIndex","n","map","singleUnit","transform"],"sources":["/Users/saravanan/node_modules/antd/es/badge/SingleNumber.js"],"sourcesContent":["\"use client\";\n\nimport classNames from 'classnames';\nimport * as React from 'react';\nfunction UnitNumber(_ref) {\n  let {\n    prefixCls,\n    value,\n    current,\n    offset = 0\n  } = _ref;\n  let style;\n  if (offset) {\n    style = {\n      position: 'absolute',\n      top: `${offset}00%`,\n      left: 0\n    };\n  }\n  return /*#__PURE__*/React.createElement(\"span\", {\n    style: style,\n    className: classNames(`${prefixCls}-only-unit`, {\n      current\n    })\n  }, value);\n}\nfunction getOffset(start, end, unit) {\n  let index = start;\n  let offset = 0;\n  while ((index + 10) % 10 !== end) {\n    index += unit;\n    offset += unit;\n  }\n  return offset;\n}\nexport default function SingleNumber(props) {\n  const {\n    prefixCls,\n    count: originCount,\n    value: originValue\n  } = props;\n  const value = Number(originValue);\n  const count = Math.abs(originCount);\n  const [prevValue, setPrevValue] = React.useState(value);\n  const [prevCount, setPrevCount] = React.useState(count);\n  // ============================= Events =============================\n  const onTransitionEnd = () => {\n    setPrevValue(value);\n    setPrevCount(count);\n  };\n  // Fallback if transition events are not supported\n  React.useEffect(() => {\n    const timeout = setTimeout(() => {\n      onTransitionEnd();\n    }, 1000);\n    return () => {\n      clearTimeout(timeout);\n    };\n  }, [value]);\n  // ============================= Render =============================\n  // Render unit list\n  let unitNodes;\n  let offsetStyle;\n  if (prevValue === value || Number.isNaN(value) || Number.isNaN(prevValue)) {\n    // Nothing to change\n    unitNodes = [/*#__PURE__*/React.createElement(UnitNumber, Object.assign({}, props, {\n      key: value,\n      current: true\n    }))];\n    offsetStyle = {\n      transition: 'none'\n    };\n  } else {\n    unitNodes = [];\n    // Fill basic number units\n    const end = value + 10;\n    const unitNumberList = [];\n    for (let index = value; index <= end; index += 1) {\n      unitNumberList.push(index);\n    }\n    // Fill with number unit nodes\n    const prevIndex = unitNumberList.findIndex(n => n % 10 === prevValue);\n    unitNodes = unitNumberList.map((n, index) => {\n      const singleUnit = n % 10;\n      return /*#__PURE__*/React.createElement(UnitNumber, Object.assign({}, props, {\n        key: n,\n        value: singleUnit,\n        offset: index - prevIndex,\n        current: index === prevIndex\n      }));\n    });\n    // Calculate container offset value\n    const unit = prevCount < count ? 1 : -1;\n    offsetStyle = {\n      transform: `translateY(${-getOffset(prevValue, value, unit)}00%)`\n    };\n  }\n  return /*#__PURE__*/React.createElement(\"span\", {\n    className: `${prefixCls}-only`,\n    style: offsetStyle,\n    onTransitionEnd: onTransitionEnd\n  }, unitNodes);\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}